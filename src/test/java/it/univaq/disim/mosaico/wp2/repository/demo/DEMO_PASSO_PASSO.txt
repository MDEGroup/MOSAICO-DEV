â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  MOSAICO BENCHMARKING SYSTEM - DEMO COMPLETA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STEP 1: CREAZIONE ENTITÃ€ BASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ 1.1 Creazione di un Agent (rappresenta un agente AI da valutare):
   Agent creato:
   â”œâ”€ ID: agent-001
   â”œâ”€ Nome: CustomerServiceBot
   â”œâ”€ Descrizione: Agente AI per supporto clienti
   â”œâ”€ Langfuse Project: proj-langfuse-123
   â””â”€ Langfuse URL: https://langfuse.example.com

ğŸ“Š 1.2 Creazione di un Benchmark (definisce i criteri di valutazione):
   Benchmark creato:
   â”œâ”€ ID: bench-001
   â”œâ”€ Dataset: dataset-customer-queries
   â”œâ”€ Run Name: cs-quality-run
   â”œâ”€ Task Def: Valuta qualitÃ  risposte supporto clienti
   â”œâ”€ Features: accuracy,completeness,response_time
   â””â”€ Agents collegati: 1

ğŸ“ˆ 1.3 Definizione KPI per il Benchmark:
   Le formule KPI sono definite tramite DSL:
   â”œâ”€ WEIGHTED_SUM(ACCURACY:0.4, PRECISION:0.3, RECALL:0.3)
   â”œâ”€ AVERAGE(ROUGE, BLEU)
   â””â”€ THRESHOLD(ACCURACY, 0.8)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STEP 2: CICLO DI VITA BENCHMARK RUN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ Stati possibili di un BenchmarkRun (RunStatus enum):
   â”œâ”€ PENDING
   â”œâ”€ RUNNING
   â”œâ”€ COMPLETED
   â”œâ”€ FAILED
   â”œâ”€ CANCELLED

   Transizioni tipiche:
   PENDING â†’ RUNNING â†’ COMPLETED
                    â†’ FAILED
                    â†’ CANCELLED

ğŸ“ 2.1 Creazione di un nuovo BenchmarkRun:
   Run creato:
   â”œâ”€ ID: run-001
   â”œâ”€ Benchmark: bench-001
   â”œâ”€ Agent: agent-001
   â”œâ”€ Trigger: MANUAL
   â””â”€ Status: PENDING

â–¶ï¸  2.2 Avvio del run (PENDING â†’ RUNNING):
   â”œâ”€ Status: RUNNING
   â””â”€ Started at: 2026-01-22T10:19:44.444777Z

âœ… 2.3 Completamento del run (RUNNING â†’ COMPLETED):
   â”œâ”€ Status: COMPLETED
   â”œâ”€ Completed at: 2026-01-22T10:19:44.445763Z
   â”œâ”€ Traces processed: 150
   â”œâ”€ Metrics computed: 450
   â””â”€ Duration: 1ms

âŒ 2.4 Esempio di run fallito:
   â”œâ”€ Status: FAILED
   â”œâ”€ Error: Connection to Langfuse failed: timeout
   â””â”€ Retry count: 1

ğŸ¯ 2.5 TriggerType - Come viene attivato un run:
   â”œâ”€ MANUAL
   â”œâ”€ SCHEDULED
   â”œâ”€ EVENT
   â”œâ”€ WEBHOOK

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STEP 3: SISTEMA DI METRICHE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ 3.1 MetricType - Tipi di metriche supportate:
   â”œâ”€ ROUGE
   â”œâ”€ BLEU
   â”œâ”€ ACCURACY
   â”œâ”€ PRECISION
   â”œâ”€ RECALL
   â”œâ”€ F1_SCORE

ğŸ“Š 3.2 MetricProvider - Calcola le metriche dalle trace:
   Interface: MetricProvider<K extends MetricKey>
   Metodi:
   â”œâ”€ getMetricKey()     â†’ Restituisce il tipo di metrica
   â”œâ”€ computeMetric()    â†’ Calcola il valore dalla trace
   â””â”€ supports()         â†’ Verifica se supporta una trace

ğŸ—ƒï¸  3.3 MetricProviderRegistry - Gestisce tutti i provider:
   FunzionalitÃ :
   â”œâ”€ registerProvider()    â†’ Registra un nuovo provider
   â”œâ”€ getAllProviders()     â†’ Ottiene tutti i provider
   â””â”€ getProvider(key)      â†’ Ottiene provider per chiave

ğŸ”¢ 3.4 Esempio di calcolo metriche per una trace:
   Metriche calcolate dalla trace:
   â”œâ”€ ACCURACY: 0.92
   â”œâ”€ PRECISION: 0.88
   â”œâ”€ RECALL: 0.9
   â”œâ”€ F1_SCORE: 0.89
   â”œâ”€ ROUGE: 0.85
   â”œâ”€ BLEU: 0.78

ğŸ’¾ 3.5 BenchmarkResult - Persistenza dei risultati:
   Ogni risultato contiene:
   â”œâ”€ benchmarkRun     â†’ Riferimento al run
   â”œâ”€ traceId          â†’ ID della trace Langfuse
   â”œâ”€ metricType       â†’ Tipo di metrica
   â”œâ”€ metricValue      â†’ Valore calcolato
   â””â”€ computedAt       â†’ Timestamp del calcolo

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STEP 4: FORMULE KPI PROGRAMMATICHE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§® 4.1 KPIFormula Interface:
   @FunctionalInterface
   public interface KPIFormula {
       double evaluate(Map<?, Double> metricValues);
   }
   
   Supporta chiavi di tipo:
   â”œâ”€ Class<? extends MetricKey>  â†’ Type-safe references
   â””â”€ String                       â†’ Nome metrica (per DSL)

ğŸ“Š Metriche di input per gli esempi:
   â”œâ”€ ACCURACY: 0.92
   â”œâ”€ PRECISION: 0.88
   â”œâ”€ RECALL: 0.9

ğŸ“ˆ 4.2 AverageFormula - Media semplice:
   Formula: (ACCURACY + PRECISION + RECALL) / 3
   Calcolo: (0.92 + 0.88 + 0.9) / 3
   Risultato: 0,9000

âš–ï¸  4.3 WeightedSumFormula - Somma pesata:
   Formula: 0.4*ACCURACY + 0.3*PRECISION + 0.3*RECALL
   Calcolo: 0.4*0.92 + 0.3*0.88 + 0.3*0.9
   Risultato: 0,9020

ğŸ¯ 4.4 ThresholdFormula - Verifica soglia:
   Formula: ACCURACY > 0.9 ? 1.0 : 0.0
   Calcolo: 0.92 > 0.9 â†’ TRUE
   Risultato: 1.0

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STEP 5: DSL (Domain Specific Language) PER KPI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ 5.1 Sintassi DSL supportata (DefaultKPIFormulaParser):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ AVERAGE(metric1, metric2, ...)                             â”‚
   â”‚ WEIGHTED_SUM(metric1:weight1, metric2:weight2, ...)        â”‚
   â”‚ MIN(metric1, metric2, ...)                                 â”‚
   â”‚ MAX(metric1, metric2, ...)                                 â”‚
   â”‚ THRESHOLD(metric, value)                                   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“Š Metriche disponibili (MetricType enum):
   â”œâ”€ ACCURACY: 0.92
   â”œâ”€ PRECISION: 0.88
   â”œâ”€ RECALL: 0.9
   â”œâ”€ F1_SCORE: 0.89
   â”œâ”€ ROUGE: 0.85
   â”œâ”€ BLEU: 0.78

ğŸ”¹ 5.2 Esempio AVERAGE:
   Espressione: AVERAGE(ACCURACY, PRECISION)
   Metriche referenziate: [ACCURACY, PRECISION]
   Risultato: 0,9000

ğŸ”¹ 5.3 Esempio WEIGHTED_SUM:
   Espressione: WEIGHTED_SUM(ACCURACY:0.5, PRECISION:0.3, RECALL:0.2)
   Metriche referenziate: [RECALL, ACCURACY, PRECISION]
   Risultato: 0,9040

ğŸ”¹ 5.4 Esempio MIN e MAX:
   MIN(ACCURACY, PRECISION, RECALL)
   Risultato MIN: 0,8800
   MAX(ACCURACY, PRECISION, RECALL)
   Risultato MAX: 0,9200

ğŸ”¹ 5.5 Esempio THRESHOLD:
   THRESHOLD(ACCURACY, 0.9) (ACCURACY >= 0.9?)
   Risultato: 1.0 (1.0 = TRUE, 0.0 = FALSE)

âš ï¸  5.6 Gestione errori DSL:
   Espressione non valida: INVALID_FUNCTION(ACCURACY)
   Errori: Unrecognized formula pattern. Supported: AVERAGE, WEIGHTED_SUM, MIN, MAX, THRESHOLD. Full DSL support will be provided by partner's xText implementation.

ğŸ“‹ 5.7 Metriche conosciute dal parser:
   [BLEU, RECALL, ROUGE, ACCURACY, PRECISION, F1_SCORE]

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STEP 6: SISTEMA DI ALERTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš¨ 6.1 AlertCondition - Condizioni disponibili:
   â”œâ”€ LESS_THAN
   â”œâ”€ GREATER_THAN
   â”œâ”€ EQUALS
   â”œâ”€ NOT_EQUALS
   â”œâ”€ PERCENTAGE_DROP
   â”œâ”€ PERCENTAGE_RISE
   â”œâ”€ ANOMALY_DETECTED

ğŸ“Š 6.2 Severity - Livelli di gravitÃ :
   â”œâ”€ INFO
   â”œâ”€ WARNING
   â”œâ”€ CRITICAL

ğŸ“¬ 6.3 NotificationChannel - Canali di notifica:
   â”œâ”€ EMAIL
   â”œâ”€ SLACK
   â”œâ”€ TEAMS
   â”œâ”€ WEBHOOK
   â”œâ”€ IN_APP

ğŸ”” 6.4 Esempio configurazione Alert:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Alert: 'Low Accuracy Alert'                                â”‚
   â”‚ Condizione: ACCURACY < 0.85                                â”‚
   â”‚ SeveritÃ : WARNING                                          â”‚
   â”‚ Canali: [EMAIL, SLACK]                                     â”‚
   â”‚ Destinatari: [team@example.com]                            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ” 6.5 Esempio di valutazione alert:
   Valore attuale ACCURACY: 0.82
   Soglia: 0.85
   Condizione: LESS_THAN
   Alert triggered: âœ… SÃŒ

   ğŸ“§ Notifiche inviate a:
      â”œâ”€ EMAIL â†’ team@example.com
      â””â”€ SLACK â†’ #benchmark-alerts

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STEP 7: SISTEMA DI SCHEDULING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â° 7.1 ScheduleConfig Entity:
   EntitÃ  JPA per configurare l'esecuzione schedulata dei benchmark.
   
   Campi principali:
   â”œâ”€ name                    â†’ Nome della schedulazione
   â”œâ”€ benchmarkId             â†’ ID del benchmark da eseguire
   â”œâ”€ agentId                 â†’ ID dell'agent da valutare
   â”œâ”€ cronExpression          â†’ Espressione cron
   â”œâ”€ timezone                â†’ Fuso orario (default: UTC)
   â”œâ”€ enabled                 â†’ Abilitato/disabilitato
   â”œâ”€ lastRunAt               â†’ Ultima esecuzione
   â”œâ”€ nextRunAt               â†’ Prossima esecuzione
   â”œâ”€ consecutiveFailures     â†’ Fallimenti consecutivi
   â””â”€ autoDisableOnFailure    â†’ Disabilita dopo N fallimenti

ğŸ“… 7.2 Cron Expressions supportate:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Campo     â”‚ Valori permessi                               â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ Secondi   â”‚ 0-59                                          â”‚
   â”‚ Minuti    â”‚ 0-59                                          â”‚
   â”‚ Ore       â”‚ 0-23                                          â”‚
   â”‚ Giorno    â”‚ 1-31                                          â”‚
   â”‚ Mese      â”‚ 1-12 o JAN-DEC                                â”‚
   â”‚ Weekday   â”‚ 0-7 o SUN-SAT                                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‹ 7.3 Esempi di scheduling:
   â”œâ”€ '0 0 * * * *'      â†’ Ogni ora
   â”œâ”€ '0 0 0 * * *'      â†’ Ogni giorno a mezzanotte
   â”œâ”€ '0 0 9 * * MON'    â†’ Ogni lunedÃ¬ alle 9:00
   â”œâ”€ '0 */30 * * * *'   â†’ Ogni 30 minuti
   â””â”€ '0 0 9-17 * * *'   â†’ Ogni ora dalle 9 alle 17

âš™ï¸  7.4 Esempio creazione ScheduleConfig:
   ScheduleConfig creato:
   â”œâ”€ Nome: Daily Quality Check
   â”œâ”€ Benchmark ID: bench-001
   â”œâ”€ Agent ID: agent-001
   â”œâ”€ Cron: 0 0 9 * * *
   â”œâ”€ Timezone: Europe/Rome
   â”œâ”€ Enabled: true
   â”œâ”€ Max consecutive failures: 5
   â””â”€ Auto-disable on failure: true

ğŸ“ˆ 7.5 Gestione risultati run:
   Dopo un run completato con successo:
   â”œâ”€ Last Run ID: run-123
   â”œâ”€ Last Run Status: COMPLETED
   â”œâ”€ Run Count: 1
   â””â”€ Consecutive Failures: 0

   Dopo un run fallito:
   â”œâ”€ Last Run Status: FAILED
   â”œâ”€ Run Count: 2
   â”œâ”€ Failure Count: 1
   â””â”€ Consecutive Failures: 1

ğŸ”„ 7.6 Flusso di esecuzione schedulata:
   1. BenchmarkScheduledTaskRunner.runScheduledBenchmarks() invocato
   2. Cerca ScheduleConfig con enabled=true e nextRunAt <= now
   3. Per ogni config, crea BenchmarkRun con TriggerType.SCHEDULED
   4. Chiama orchestrator.executeBenchmarkRunAsync()
   5. Aggiorna ScheduleConfig con recordRunSuccess/Failure
   6. Calcola nextRunAt basandosi sulla cron expression

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STEP 8: FLUSSO COMPLETO END-TO-END
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ Simulazione di un benchmark run completo:

â”Œâ”€ SETUP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent: CustomerServiceBot (agent-001)                       â”‚
â”‚ Benchmark: Customer Support Quality (bench-001)             â”‚
â”‚ KPI: Overall Quality = WEIGHTED_SUM(ACC:0.4, PREC:0.3, REC:0.3)â”‚
â”‚ Alert: ACCURACY < 0.85 â†’ WARNING                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“Œ FASE 1: Creazione BenchmarkRun
   â†’ POST /api/v1/benchmark-runs
   â†’ Body: { benchmarkId: 'bench-001', triggerType: 'MANUAL' }
   â† Response: { id: 'run-1769077184520', status: 'PENDING' }

ğŸ“Œ FASE 2: Esecuzione Benchmark
   â†’ runManager.startRun('run-1769077184520')
   â† Status: RUNNING

ğŸ“Œ FASE 3: Raccolta Traces da Langfuse
   â†’ langfuseService.getRunBenchmarkTraces(agent, datasetRef, runName)
   â† Trovate 150 traces

ğŸ“Œ FASE 4: Calcolo Metriche per ogni Trace
   â†’ metricProviderRegistry.getAllProviders()
   â†’ Per ogni trace e provider: provider.computeMetric(trace)
   â† Metriche aggregate (media di 150 traces):
      â”œâ”€ ACCURACY: 0,89
      â”œâ”€ PRECISION: 0,91
      â”œâ”€ RECALL: 0,87

ğŸ“Œ FASE 5: Calcolo KPI
   â†’ kpiFormulaParser.parse('WEIGHTED_SUM(ACCURACY:0.4, PRECISION:0.3, RECALL:0.3)')
   â† KPI 'Overall Quality': 0,8900

ğŸ“Œ FASE 6: Valutazione Alert
   â†’ alertEvaluationService.evaluateAlertsForRun('run-1769077184520')
   â† ACCURACY (0.89) < 0.85? NO â†’ Nessun alert

ğŸ“Œ FASE 7: Completamento Run
   â†’ runManager.completeRun('run-1769077184520', 150, 450)
   â† Status: COMPLETED

â”Œâ”€ RIEPILOGO FINALE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Run ID: run-1769077184520                                 â”‚
â”‚ Status: COMPLETED                                         â”‚
â”‚ Duration: 2ms                                             â”‚
â”‚ Traces: 150 processed                                     â”‚
â”‚ Metrics: 450 computed                                     â”‚
â”‚ KPI Score: 0,8900                                         â”‚
â”‚ Alerts: 0 triggered                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  DEMO COMPLETATA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•